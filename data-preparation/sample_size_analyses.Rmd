---
title: "Sample Size Analyses"
author: "Annika Kuelpmann"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup}
#| include: false

knitr::opts_chunk$set(echo = TRUE)

```

```{r packages}
#| include: false

library(pwrss)
library(pwr)

```

## Sample Size Analyses
All sample size analyses are performed with an expected power of 0.8. 

### Correlations (Hypotheses H1-H4)
Correlations of the external and internal details, respectively for the hand-scored data and the data translated by a language model and then scored by the Genugten & Schacter model. A smallest effect size of interest of r=0.5 is assumed for each of the hypotheses.
```{r sample size H1-H4}

# correlation > 0.5
# n: total n 
pwr.r.test(r = 0.5, 
           sig.level = 0.05, 
           power = 0.8, 
           alternative = "greater")

```


### Accuracy (Hypothesis H5)
Accuracy for detecting categories of internal details. To accept hypothesis 5, an accuracy of at least 70% is required. 

```{r sample size H5}

# expected accuracy: 0.7
# random rate: 0.5
# n: total n
pwr.2p.test(h = ES.h(p1 = 0.7, p2 = 0.5), 
            sig.level = 0.05, 
            power = 0.8, 
            alternative = "greater")

```

### ANOVA (Exploratory Analysis E1)
3x2 ANOVA to evaluate whether one of the translation models produces outputs that are significantly better aligned with the manual scoring. A moderate correlation of r=0.5 and a medium effect size is assumed. 
```{r sample size E1}

# 3 groups: between subjects, model1/model2/model3
# 2 measures: within subjects, correlations detail type (internal/external)
# medium effect and medium correlation 
# n: total n 
pwrss.f.rmanova(
    type = "between",
    n.levels = 3,
    n.rm = 2,
    alpha = 0.05,  
    power = 0.8,
    eta2 = 0.06,
    corr.rm = 0.5) 

```

### Correlations (Exploratory Analysis E2)
Correlations between manual scoring and automatic scoring for types of internal details. A smallest effect size of interest of r=0.5 is assumed. 
```{r sample size E2}

# correlation > 0.5
# n: total n 
pwr.r.test(r = 0.5, 
           sig.level = 0.05, 
           power = 0.8, 
           alternative = "greater")

```

### ANOVA (Exploratory Analysis E3)
2x2 ANOVA to investigate whether performance differs by trial type. A moderate correlation of r=0.5 and a medium effect size is assumed. 
```{r sample size E3}

# 2 groups: between subjects, trial type (past/future)
# 2 measures: within subjects, correlations detail type (internal/external)
# medium effect and medium correlation 
# n: total n 
pwrss.f.rmanova(
    type = "between",
    n.levels = 2,
    n.rm = 2,
    alpha = 0.05,  
    power = 0.8,
    eta2 = 0.06,
    corr.rm = 0.5) 

```

